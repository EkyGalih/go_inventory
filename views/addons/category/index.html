<!DOCTYPE html>
<html lang="id">
  <head>
    <title>Inventory - {{ .Title }}</title>
    {{ template "_head.html" . }}
  </head>
  <body
    id="kt_app_body"
    data-kt-app-layout="dark-sidebar"
    data-kt-app-header-fixed="true"
    data-kt-app-sidebar-enabled="true"
    data-kt-app-sidebar-fixed="true"
    data-kt-app-sidebar-hoverable="true"
    data-kt-app-sidebar-push-header="true"
    data-kt-app-sidebar-push-toolbar="true"
    data-kt-app-sidebar-push-footer="true"
    data-kt-app-toolbar-enabled="true"
    class="app-default"
  >
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
      <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
        {{ template "_navbar.html" . }}

        <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
          <div
            id="kt_app_sidebar"
            class="app-sidebar flex-column"
            data-kt-drawer="true"
            data-kt-drawer-name="app-sidebar"
            data-kt-drawer-activate="{default: true, lg: false}"
            data-kt-drawer-overlay="true"
            data-kt-drawer-width="225px"
            data-kt-drawer-direction="start"
            data-kt-drawer-toggle="#kt_app_sidebar_mobile_toggle"
          >
            <div class="app-sidebar-logo px-6" id="kt_app_sidebar_logo">
              <a href="/">
                <h1 class="text-white">INVENTARIS</h1>
              </a>
              <div
                id="kt_app_sidebar_toggle"
                class="app-sidebar-toggle btn btn-icon btn-shadow btn-sm btn-color-muted btn-active-color-primary h-30px w-30px position-absolute top-50 start-100 translate-middle rotate"
                data-kt-toggle="true"
                data-kt-toggle-state="active"
                data-kt-toggle-target="body"
                data-kt-toggle-name="app-sidebar-minimize"
              >
                <i class="ki-duotone ki-black-left-line fs-3 rotate-180">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </div>
            </div>

            {{ template "_sidebar.html" . }}

            <div
              class="app-sidebar-footer flex-column-auto pt-2 pb-6 px-6"
              id="kt_app_sidebar_footer"
            >
              <a
                href="https://preview.keenthemes.com/html/metronic/docs"
                class="btn btn-flex flex-center btn-custom btn-primary overflow-hidden text-nowrap px-0 h-40px w-100"
                data-bs-toggle="tooltip"
                data-bs-trigger="hover"
                data-bs-dismiss-="click"
                title="200+ in-house components and 3rd-party plugins"
              >
                <span class="btn-label">Docs & Components</span>
                <i class="ki-duotone ki-document btn-icon fs-2 m-0">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </a>
            </div>
          </div>

          <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
            <div class="d-flex flex-column flex-column-fluid">
              <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
                <div
                  id="kt_app_toolbar_container"
                  class="app-container container-fluid d-flex flex-stack"
                >
                  <div
                    class="page-title d-flex flex-column justify-content-center flex-wrap me-3"
                  >
                    <h1
                      class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0"
                    >
                      Kategori Aset
                    </h1>

                    <ul
                      class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1"
                    >
                      <li class="breadcrumb-item text-muted">
                        <a href="/" class="text-muted text-hover-primary"
                          >Beranda</a
                        >
                      </li>

                      <li class="breadcrumb-item">
                        <span class="bullet bg-gray-500 w-5px h-2px"></span>
                      </li>

                      <li class="breadcrumb-item text-muted">Kategori Aset</li>
                    </ul>
                  </div>

                  <!-- Begin:: Modal -->
                  <div class="d-flex align-items-center gap-2 gap-lg-3">
                    <a href="#" class="btn btn-sm fw-bold btn-primary" data-bs-toggle="modal" data-bs-target="#AddCategory">
                      <i class="ki-duotone ki-plus fs-2"></i> Tambah Kategori
                    </a>
                    <div class="modal fade" id="AddCategory" tabindex="-1" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered mw-650px">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h2 class="modal-title"><i class="ki-duotone ki-plus fs-2"></i> Tambah Kategori</h2>
                            <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                              <i class="ki-duotone ki-cross fs-1">
                                <span class="path1"></span>
                                <span class="path2"></span>
                              </i>
                            </div>
                          </div>
                          <div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">
                            <form action="/addons/kategori/add" method="POST">
                              <div class="mb-3 mt-5">
                                <label for="nama_kategori" class="form-label"
                                  >Nama Kategori</label
                                >
                                <input
                                  type="text"
                                  class="form-control"
                                  id="nama"
                                  name="nama_kategori"
                                />
                              </div>
                              <div class="mb-3">
                                <label for="deskripsi" class="form-label">Deskripsi</label>
                                <textarea name="deskripsi" id="deskripsi" class="form-control"></textarea>
                              </div>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                                <i class="ki-duotone ki-cross fs-5">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                  <span class="path3"></span>
                                  <span class="path4"></span>
                                </i> Batal
                              </button>
                              <button type="submit" class="btn btn-primary">
                                <i class="ki-duotone ki-plus fs-5"></i> Tambah
                              </button>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                    <!-- End:: Modal -->
                  </div>
                </div>
              </div>

              <div id="kt_app_content" class="app-content flex-column-fluid">
                <div
                  id="kt_app_content_container"
                  class="app-container container-fluid"
                >
                  <div class="card card-flush pt-3 mb-5 mb-lg-10">
                    <div class="card-body pt-0">
                      <table
                        class="table align-middle table-row-dashed p-7 fs-6 gy-5"
                        id="kt_table_users"
                      >
                        <thead>
                          <tr
                            class="text-start text-gray-600 fw-bolder fs-7 text-uppercase gs-0"
                          >
                            <th class="min-w-125px">Nama Kategori</th>
                            <th class="min-w-125px">Deskripsi</th>
                            <th class="min-w-25px">Aksi</th>
                          </tr>
                        </thead>
                        <tbody>
                          {{ range .categories}}
                          <tr>
                            <td>{{.Nama_Kategori}}</td>
                            {{if .Deskripsi}}
                            <th>{{removeHTMLTags .Deskripsi}}</th>
                            {{else}}
                            <th></th>
                            {{end}}
                            <td>
                              <a
                                href="#"
                                data-bs-toggle="modal"
                                data-bs-target="#EditCategory{{.Id}}"
                                class="btn btn-warning btn-sm"
                              >
                                <i class="ki-duotone ki-pencil fs-2">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                  <span class="path3"></span>
                                </i>
                                Edit
                              </a>
                              <!-- Edit:: Begin Modal -->
                              <div class="modal fade" id="EditCategory{{.Id}}" tabindex="-1" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered mw-650px">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h2 class="modal-title">
                                        <i class="ki-duotone ki-pencil fs-2">
                                          <span class="path1"></span>
                                          <span class="path2"></span>
                                          <span class="path3"></span>
                                        </i> Ubah Kategori
                                      </h2>
                                      <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                                        <i class="ki-duotone ki-cross fs-1">
                                          <span class="path1"></span>
                                          <span class="path2"></span>
                                        </i>
                                      </div>
                                    </div>
                                    <div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">
                                      <form action="/addons/kategori/edit?id={{.Id}}" method="POST">
                                        <div class="mb-3 mt-5">
                                          <label for="nama_kategori" class="form-label"
                                            >Nama Kategori</label
                                          >
                                          <input
                                            type="text"
                                            class="form-control"
                                            id="nama"
                                            name="nama_kategori"
                                            value="{{.Nama_Kategori}}"
                                          />
                                        </div>
                                        <div class="mb-3">
                                          <label for="deskripsi" class="form-label">Deskripsi</label>
                                          <textarea name="deskripsi" id="desk" class="form-control">{{if .Deskripsi}}{{.Deskripsi}}{{end}}</textarea>
                                        </div>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                                          <i class="ki-duotone ki-cross fs-5">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i> Batal
                                        </button>
                                        <button type="submit" class="btn btn-success">
                                          <i class="ki-duotone ki-send fs-5">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i> Simpan
                                        </button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                              <!-- Edit:: End Modal -->
                              <a
                              href="#"
                              class="btn btn-danger btn-sm"
                              data-bs-toggle="modal"
                              data-bs-target="#HapusCategory{{.Id}}"
                              >
                                <i class="ki-duotone ki-trash fs-2">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                  <span class="path3"></span>
                                  <span class="path4"></span>
                                </i>
                                Hapus
                              </a>
                              <!-- Hapus:: Begin Modal -->
                              <div class="modal fade" id="HapusCategory{{.Id}}" tabindex="-1" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered mw-650px">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h2 class="modal-title">
                                        Hapus Kategori
                                      </h2>
                                      <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                                        <i class="ki-duotone ki-cross fs-1">
                                          <span class="path1"></span>
                                          <span class="path2"></span>
                                        </i>
                                      </div>
                                    </div>
                                    <div class="modal-body">
                                      <p class="p-3">Apakah anda yakin ingin menghapus kategori <strong><i>{{.Nama_Kategori}}</i></strong>?</p>
                                    </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                                          <i class="ki-duotone ki-cross fs-5">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i> Tidak
                                        </button>
                                        <a href="/addons/kategori/delete?id={{.Id}}" class="btn btn-success">
                                          <i class="ki-duotone ki-check fs-5">
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i> Ya
                                        </a>
                                      </div>
                                  </div>
                                </div>
                              </div>
                               <!-- Hapus:: End Modal -->
                            </td>
                          </tr>
                          {{end}}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{ template "_footer.html" . }}
          </div>
        </div>
      </div>
    </div>

    {{ template "_js.html" . }}
    <script
      type="text/javascript"
      src="/public/assets/plugins/custom/ckeditor/ckeditor-classic.bundle.js"
    ></script>
    <script>
      $(document).ready(function () {
        ClassicEditor.create(document.querySelector("#deskripsi"), {
          // Konfigurasi tambahan untuk CKEditor
          height: 500, // Atur tinggi editor di sini
        })
          .then((editor) => {
            console.log(editor);
          })
          .catch((error) => {
            console.error(error);
          });
        ClassicEditor.create(document.querySelector("#desk"), {
          // Konfigurasi tambahan untuk CKEditor
          height: 500, // Atur tinggi editor di sini
        })
          .then((editor) => {
            console.log(editor);
          })
          .catch((error) => {
            console.error(error);
          });
        });
      </script>
  </body>
</html>
