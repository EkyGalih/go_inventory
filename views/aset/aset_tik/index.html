<!DOCTYPE html>
<html lang="id">
  <head>
    <title>Inventory - {{ .Title }}</title>
    {{ template "_head.html" . }}
  </head>
  <body
    id="kt_app_body"
    data-kt-app-layout="dark-sidebar"
    data-kt-app-header-fixed="true"
    data-kt-app-sidebar-enabled="true"
    data-kt-app-sidebar-fixed="true"
    data-kt-app-sidebar-hoverable="true"
    data-kt-app-sidebar-push-header="true"
    data-kt-app-sidebar-push-toolbar="true"
    data-kt-app-sidebar-push-footer="true"
    data-kt-app-toolbar-enabled="true"
    class="app-default"
  >
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
      <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
        {{ template "_navbar.html" . }}

        <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
          <div
            id="kt_app_sidebar"
            class="app-sidebar flex-column"
            data-kt-drawer="true"
            data-kt-drawer-name="app-sidebar"
            data-kt-drawer-activate="{default: true, lg: false}"
            data-kt-drawer-overlay="true"
            data-kt-drawer-width="225px"
            data-kt-drawer-direction="start"
            data-kt-drawer-toggle="#kt_app_sidebar_mobile_toggle"
          >
            <div class="app-sidebar-logo px-6" id="kt_app_sidebar_logo">
              <a href="/">
                <h1 class="text-white">INVENTARIS</h1>
              </a>
              <div
                id="kt_app_sidebar_toggle"
                class="app-sidebar-toggle btn btn-icon btn-shadow btn-sm btn-color-muted btn-active-color-primary h-30px w-30px position-absolute top-50 start-100 translate-middle rotate"
                data-kt-toggle="true"
                data-kt-toggle-state="active"
                data-kt-toggle-target="body"
                data-kt-toggle-name="app-sidebar-minimize"
              >
                <i class="ki-duotone ki-black-left-line fs-3 rotate-180">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </div>
            </div>

            {{ template "_sidebar.html" . }}

            <div
              class="app-sidebar-footer flex-column-auto pt-2 pb-6 px-6"
              id="kt_app_sidebar_footer"
            >
              <a
                href="https://preview.keenthemes.com/html/metronic/docs"
                class="btn btn-flex flex-center btn-custom btn-primary overflow-hidden text-nowrap px-0 h-40px w-100"
                data-bs-toggle="tooltip"
                data-bs-trigger="hover"
                data-bs-dismiss-="click"
                title="200+ in-house components and 3rd-party plugins"
              >
                <span class="btn-label">Docs & Components</span>
                <i class="ki-duotone ki-document btn-icon fs-2 m-0">
                  <span class="path1"></span>
                  <span class="path2"></span>
                </i>
              </a>
            </div>
          </div>

          <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
            <div class="d-flex flex-column flex-column-fluid">
              <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
                <div
                  id="kt_app_toolbar_container"
                  class="app-container container-fluid d-flex flex-stack"
                >
                  <div
                    class="page-title d-flex flex-column justify-content-center flex-wrap me-3"
                  >
                    <h1
                      class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0"
                    >
                      Kategori Aset
                    </h1>

                    <ul
                      class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1"
                    >
                      <li class="breadcrumb-item text-muted">
                        <a href="/" class="text-muted text-hover-primary"
                          >Beranda</a
                        >
                      </li>

                      <li class="breadcrumb-item">
                        <span class="bullet bg-gray-500 w-5px h-2px"></span>
                      </li>

                      <li class="breadcrumb-item text-muted">Aset TIK</li>
                    </ul>
                  </div>

                  <div class="d-flex align-items-center gap-2 gap-lg-3">
                    <a
                      href="/aset/aset-tik/add"
                      class="btn btn-sm fw-bold btn-primary"
                    >
                      <i class="ki-duotone ki-plus fs-2"></i> Add Aset
                    </a>
                  </div>
                </div>
              </div>

              <div id="kt_app_content" class="app-content flex-column-fluid">
                <div
                  id="kt_app_content_container"
                  class="app-container container-fluid"
                >
                  <div class="row g-5 align-items-center mb-5">
                    <div class="table-responsive">
                      {{range .aset_tiks}}
                      <div class="card card-flush pt-3 mb-5 pt-10">
                        <div class="card-body pt-9 pb-0">
                          <div class="d-flex flex-wrap flex-sm-nowrap">
                            <div class="me-7 mb-4">
                              <a
                                href="http://bpkad.test/admin/inventaris/aset-tik/detail-aset/aeaaadc0-dbcd-4b6f-94a1-bcd2e7652bc4"
                                class="symbol symbol-100px symbol-lg-160px symbol-fixed position-relative image-placeholder kt-spinner kt-spinner--sm kt-spinner--brand"
                              >
                                <img
                                  src="{{ .Path }}"
                                  alt="Proyektor Epson TW6250 EH-TW6250 4K Enhancement"
                                  class="lazy"
                                  loading="lazy"
                                />
                              </a>
                            </div>
                            <div class="flex-grow-1">
                              <div
                                class="d-flex justify-content-between align-items-start flex-wrap mb-2"
                              >
                                <div class="d-flex flex-column">
                                  <div class="d-flex align-items-center">
                                    <a
                                      href="http://bpkad.test/admin/inventaris/aset-tik/detail-aset/aeaaadc0-dbcd-4b6f-94a1-bcd2e7652bc4"
                                      class="text-gray-900 text-hover-primary fs-2 fw-bold me-1"
                                      >{{ .Nama_Aset }}</a
                                    >
                                    <a href="#">
                                      ({{calculateAssetAge .Tanggal_Perolehan}})
                                    </a>
                                  </div>
                                  <small class="mb-3">{{.Kode_Aset}}</small>
                                  <div
                                    class="d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2"
                                  >
                                    <span
                                      class="d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"
                                    >
                                      <i
                                        class="ki-duotone ki-price-tag fs-4 me-1"
                                      >
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                      </i>
                                      {{ .Merek }}
                                    </span>
                                    <span
                                      class="d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"
                                    >
                                      <i
                                        class="ki-duotone ki-lots-shopping fs-4 me-1"
                                      >
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                        <span class="path4"></span>
                                        <span class="path5"></span>
                                        <span class="path6"></span>
                                        <span class="path7"></span>
                                        <span class="path8"></span>
                                      </i>
                                      {{ .Model }}
                                    </span>
                                    <span
                                      class="d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"
                                    >
                                      <i
                                        class="ki-duotone ki-barcode fs-4 me-1"
                                      >
                                        <span class="path1"></span>
                                        <span class="path2"></span>
                                        <span class="path3"></span>
                                        <span class="path4"></span>
                                        <span class="path5"></span>
                                        <span class="path6"></span>
                                        <span class="path7"></span>
                                        <span class="path8"></span>
                                      </i>
                                      {{ .Serial_Number }}
                                    </span>
                                    <span
                                      class="d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2"
                                    >
                                    </span>
                                  </div>
                                </div>
                                <div class="d-flex my-4">
                                  <div class="me-0">
                                    {{ if $.distribusi }} {{ $dist := index
                                    $.distribusi .Id }} {{ $jumlah := .Jumlah |
                                    floatToInt }} {{ if eq $dist $jumlah }}
                                    <button
                                      class="btn btn-sm btn-primary me-3"
                                      disabled
                                    >
                                      Distribusi
                                    </button>
                                    {{ else }}
                                    <a
                                      href="/aset/aset-tik/distribusi?id={{ .Id }}"
                                      class="btn btn-sm btn-primary me-3"
                                      >Distribusi</a
                                    >
                                    {{ end }} {{ else }}
                                    <a
                                      href="/aset/aset-tik/distribusi?id={{ .Id }}"
                                      class="btn btn-sm btn-primary me-3"
                                      >Distribusi</a
                                    >
                                    {{ end }}
                                    <button
                                      class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary"
                                      data-kt-menu-trigger="click"
                                      data-kt-menu-placement="bottom-end"
                                    >
                                      <i
                                        class="ki-solid ki-dots-horizontal fs-2x"
                                      ></i>
                                    </button>
                                    <div
                                      class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg-light-primary fw-semibold w-200px py-3"
                                      data-kt-menu="true"
                                    >
                                      <div class="menu-item px-3">
                                        <a
                                          href="/aset/aset-tik/edit?id={{ .Id }}"
                                          class="menu-link px-3"
                                        >
                                          <i
                                            class="ki-duotone ki-pencil fs-2 mr-15"
                                          >
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i>
                                          Edit
                                        </a>
                                        <a
                                          href="#"
                                          data-bs-toggle="modal"
                                          data-bs-target="#HapusAset{{.Id}}"
                                          class="menu-link px-3"
                                        >
                                          <i
                                            class="ki-duotone ki-trash fs-2 mr-5"
                                          >
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                            <span class="path3"></span>
                                            <span class="path4"></span>
                                          </i>
                                          Hapus
                                        </a>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="d-flex flex-wrap flex-stack">
                                <div
                                  class="d-flex flex-column flex-grow-1 pe-8"
                                >
                                  <div class="d-flex flex-wrap">
                                    <div
                                      class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"
                                    >
                                      <div class="d-flex align-items-center">
                                        <div
                                          class="fs-2 fw-bold counted"
                                          data-kt-countup="true"
                                          data-kt-countup-value="26500000"
                                          data-kt-countup-prefix="Rp. "
                                          data-kt-initialized="1"
                                        >
                                          {{formatCurrency .Nilai}}
                                        </div>
                                      </div>
                                      <div
                                        class="fw-semibold fs-6 text-gray-500"
                                      >
                                        Nilai Aset
                                      </div>
                                    </div>
                                    <div
                                      class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"
                                    >
                                      <div class="d-flex align-items-center">
                                        <div
                                          class="fs-2 fw-bold counted"
                                          data-kt-countup="true"
                                          data-kt-countup-value="1"
                                          data-kt-initialized="1"
                                        >
                                          {{ .Jumlah }}
                                        </div>
                                      </div>
                                      <div
                                        class="fw-semibold fs-6 text-gray-500"
                                      >
                                        Jumlah Aset
                                      </div>
                                    </div>
                                    <div
                                      class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3"
                                    >
                                      <div class="d-flex align-items-center">
                                        <div
                                          class="fs-2 fw-bold counted"
                                          data-kt-countup="true"
                                          data-kt-countup-value="26,500,000"
                                          data-kt-countup-prefix="RP. "
                                          data-kt-initialized="1"
                                        >
                                          {{ formatCurrency (mul .Nilai .Jumlah)
                                          }}
                                        </div>
                                      </div>
                                      <div
                                        class="fw-semibold fs-6 text-gray-500"
                                      >
                                        Total Nilai Aset
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div
                                  class="d-flex align-items-center w-200px w-sm-300px flex-column mt-3"
                                >
                                  <div
                                    class="d-flex justify-content-between w-75 mt-auto mb-2"
                                  >
                                    <span class="fw-semibold fs-6 text-gray-500"
                                      >Distribusi Aset</span
                                    >
                                    <span class="fw-bold fs-6">
                                      {{ if $.distribusi }} {{ $dist := index
                                      $.distribusi .Id }} {{ if $dist }}{{ $dist
                                      }}{{ else }}0{{ end }}/{{ .Jumlah }} Unit
                                      {{ else }} 0/{{ .Jumlah }} {{.Satuan}} {{
                                      end }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <ul
                            class="nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bold"
                          >
                            <li class="nav-item mt-2">
                              <a
                                class="nav-link text-active-primary ms-0 me-10 py-5"
                                href="#"
                                >Pemegang Aset</a
                              >
                            </li>
                          </ul>
                        </div>
                      </div>
                      <!-- Hapus:: Begin Modal -->
                      <div
                        class="modal fade"
                        id="HapusAset{{.Id}}"
                        tabindex="-1"
                        aria-hidden="true"
                      >
                        <div
                          class="modal-dialog modal-dialog-centered mw-650px"
                        >
                          <div class="modal-content">
                            <div class="modal-header">
                              <h2 class="modal-title">Hapus Aset</h2>
                              <div
                                class="btn btn-sm btn-icon btn-active-color-primary"
                                data-bs-dismiss="modal"
                              >
                                <i class="ki-duotone ki-cross fs-1">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                </i>
                              </div>
                            </div>
                            <div class="modal-body">
                              <p class="p-3">
                                Apakah anda yakin ingin menghapus aset
                                <strong><i>{{.Nama_Aset}}</i></strong
                                >, dengan kode aset
                                <strong><i>{{.Kode_Aset}}</i></strong
                                >?
                              </p>
                            </div>
                            <div class="modal-footer">
                              <button
                                type="button"
                                class="btn btn-danger"
                                data-bs-dismiss="modal"
                              >
                                <i class="ki-duotone ki-cross fs-5">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                  <span class="path3"></span>
                                  <span class="path4"></span>
                                </i>
                                Tidak
                              </button>
                              <a
                                href="/aset/aset-tik/delete?id={{.Id}}"
                                class="btn btn-success"
                              >
                                <i class="ki-duotone ki-check fs-5">
                                  <span class="path1"></span>
                                  <span class="path2"></span>
                                  <span class="path3"></span>
                                  <span class="path4"></span>
                                </i>
                                Ya
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- Hapus:: End Modal -->
                      {{ end }}
                      <ul class="pagination">
                        <!-- Previous Button -->
                        {{if gt .Page 1}}
                        <li class="page-item previous">
                            <a class="page-link page-text" href="?page={{sub .Page 1}}&limit={{.Limit}}">Previous</a>
                        </li>
                        {{else}}
                        <li class="page-item previous disabled">
                            <span class="page-link page-text">Previous</span>
                        </li>
                        {{end}}
                    
                        <!-- Page Number Links -->
                        {{range $i := until .TotalPages}}
                        <li class="page-item {{if eq (add $i 1) $.Page}}active{{end}}">
                            <a href="?page={{add $i 1}}&limit={{$.Limit}}" class="page-link">
                                {{add $i 1}}
                            </a>
                        </li>
                        {{end}}
                    
                        <!-- Next Button -->
                        {{if lt .Page .TotalPages}}
                        <li class="page-item next">
                            <a class="page-link page-text" href="?page={{add .Page 1}}&limit={{.Limit}}">Next</a>
                        </li>
                        {{else}}
                        <li class="page-item next disabled">
                            <span class="page-link page-text">Next</span>
                        </li>
                        {{end}}
                    </ul>     
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{ template "_footer.html" . }}
          </div>
        </div>
      </div>
    </div>

    {{ template "_js.html" . }}
  </body>
</html>
